import Head from "next/head";
import localFont from "next/font/local";
import { Swiper, SwiperSlide } from "swiper/react";
import { Mousewheel } from "swiper";
import React, { useEffect, useState } from "react";
import { FirstSlide } from "@/components/desktop/FirstSlide";
import { SecondSlide } from "@/components/desktop/SecondSlide";

const FaktumTest = localFont({
  variable: "--font-faktumTest",
  src: [
    {
      path: "../../public/fonts/FaktumTest/Faktum_Test_Regular.otf",
      weight: "400",
      style: "normal",
    },
    {
      path: "../../public/fonts/FaktumTest/Faktum_Test_Bold.otf",
      weight: "700",
      style: "normal",
    },
  ],
});

const Pretendard = localFont({
  variable: "--font-pretendard",
  src: [
    {
      path: "../../public/fonts/Pretendard/Pretendard-Thin.woff",
      weight: "100",
      style: "normal",
    },
    {
      path: "../../public/fonts/Pretendard/Pretendard-SemiBold.woff",
      weight: "200",
      style: "normal",
    },
    {
      path: "../../public/fonts/Pretendard/Pretendard-Regular.woff",
      weight: "300",
      style: "normal",
    },
    {
      path: "../../public/fonts/Pretendard/Pretendard-Medium.woff",
      weight: "400",
      style: "normal",
    },
    {
      path: "../../public/fonts/Pretendard/Pretendard-Light.woff",
      weight: "500",
      style: "normal",
    },
    {
      path: "../../public/fonts/Pretendard/Pretendard-ExtraLight.woff",
      weight: "600",
      style: "normal",
    },
    {
      path: "../../public/fonts/Pretendard/Pretendard-ExtraBold.woff",
      weight: "700",
      style: "normal",
    },
    {
      path: "../../public/fonts/Pretendard/Pretendard-Bold.woff",
      weight: "800",
      style: "normal",
    },
    {
      path: "../../public/fonts/Pretendard/Pretendard-Black.woff",
      weight: "900",
      style: "normal",
    },
  ],
});

export default function Home() {
  const [currentHeight, setCurrentHeight] = useState("0px");
  const [currentIndex, setCurrentIndex] = React.useState(0);

  const onSlideChage = (index: number) => {
    setCurrentIndex(index);
  };

  useEffect(() => {
    setCurrentHeight(`${window.innerHeight}px`);
  }, []);

  console.log("currentIndex", currentIndex);
  return (
    <>
      <Head>
        <title>ys medi</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <Swiper
        className={`bg-black overflow-hidden ${Pretendard.variable} ${FaktumTest.variable}`}
        style={{ height: currentHeight }}
        direction="vertical"
        modules={[Mousewheel]}
        speed={800}
        mousewheel={true}
        slidesPerView={1}
        onScroll={(scroll) => onSlideChage(scroll.activeIndex)}
        onSlideChange={(slide) => onSlideChage(slide.activeIndex)}
        scrollbar={{ hide: false, dragSize: 0 }}
      >
        <SwiperSlide>
          <FirstSlide />
        </SwiperSlide>
        <SwiperSlide>
          <SecondSlide />
        </SwiperSlide>
        <SwiperSlide>
          <div className="w-screen h-full flex-center text-white">slide3</div>
        </SwiperSlide>
        <SwiperSlide>
          <div className="w-screen h-full flex-center text-white">slide4</div>
        </SwiperSlide>
      </Swiper>
    </>
  );
}
